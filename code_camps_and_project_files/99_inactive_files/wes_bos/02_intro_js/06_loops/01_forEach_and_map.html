<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>forEach() and map()</title>

</head>

<body>

    <script>
        const toppings = [
            'Mushrooms ',
            'Tomatoes',
            'Eggs',
            'Chili',
            'Lettuce',
            'Avocado',
            'Chiles',
            'Bacon',
            'Pickles',
            'Onions',
            'Cheese',
        ];

        const students = [
            {
                id: '11ce',
                first_name: 'Dall',
                last_name: 'Puckring',
            },
            {
                id: '2958',
                first_name: 'Margarete',
                last_name: 'Brandi',
            },
            {
                id: '565a',
                first_name: 'Bendicty',
                last_name: 'Woodage',
            },
            {
                id: '3a16',
                first_name: 'Micki',
                last_name: 'Mattes',
            },
            {
                id: 'f396',
                first_name: 'Flory',
                last_name: 'Gladeche',
            },
            {
                id: 'de5f',
                first_name: 'Jamill',
                last_name: 'Emilien',
            },
            {
                id: '54cb',
                first_name: 'Brett',
                last_name: 'Aizikowitz',
            },
            {
                id: '9135',
                first_name: 'Lorry',
                last_name: 'Smallman',
            },
            {
                id: '978f',
                first_name: 'Gilly',
                last_name: 'Flott',
            },
        ];

        const people = [
            {
                birthday: 'April 22, 1993',
                names: {
                    first: 'Keith',
                    last: 'Buckley',
                },
            },
            {
                birthday: 'January 3, 1975',
                names: {
                    first: 'Larry',
                    last: 'Heep',
                },
            },
            {
                birthday: 'February 12, 1944',
                names: {
                    first: 'Linda',
                    last: 'Bermeer',
                },
            },
        ];

        const buns = ['egg', 'wonder', 'brioche'];

        const meats = {
            beyond: 10,
            beef: 5,
            pork: 7,
        };

        const prices = {
            hotDog: 453,
            burger: 765,
            sausage: 634,
            corn: 234,
        };

        const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

        const feedback = [
            { comment: 'Love the burgs', rating: 4 },
            { comment: 'Horrible Service', rating: 2 },
            { comment: 'Smoothies are great, liked the burger too', rating: 5 },
            { comment: 'Ambiance needs work', rating: 3 },
            { comment: 'I DONT LIKE BURGERS', rating: 1 },
        ];

        const faces = ['üòÉ', 'ü§†', 'ü§°', 'ü§ë', 'üòµ', 'üåû', 'üê∂', 'üò∫'];

        const inventory = [
            { type: 'shirt', price: 4000 },
            { type: 'pants', price: 4532 },
            { type: 'socks', price: 234 },
            { type: 'shirt', price: 2343 },
            { type: 'pants', price: 2343 },
            { type: 'socks', price: 542 },
            { type: 'pants', price: 123 },
        ];

        // LOOPING METHODS

        // forEach()--------------------------------------------------------

        function logTopping(element, index, arr) {
            // log the topping
            console.log(element);
            // log the prev topping if there is one
            arr[index - 1] ? console.log('prev', arr[index - 1]) : null;
            // log the next topping if there is one
            arr[index + 1] ? console.log('next', arr[index + 1]) : null;
            // if its the last item in the array, say good bye
            index = arr.length - 1 ? console.log('good bye') : null;
        }
        toppings.forEach(logTopping);

        /* The main difference between forEach and FILTER is that forEach just loops over the array and executes the callback but FILTER executes the callback and check its return value. If the value is true element remains in the resulting array but if the return value is false the element will be removed for the resulting array. */

        // Map --------------------------------------------------
        console.clear();
        // The map() method creates a new array populated with the results of calling a provided function on every element in the calling array.

        /* Map like filter & foreach takes a callback and run it against every element on the array but whats makes it unique is it generate a new array based on your existing array. 
        
        Like filter, map also returns an array. The provided callback to map modifies the array elements and save them into the new array upon completion that array get returned as the mapped array.  */

        function addFists(emoji) {
            return `ü§õ ${emoji} ü§ú`;
        }

        const fisted = faces.map(addFists);
        console.log(fisted);

        const myFamily = ['regan', 'emma', 'jason', 'copper', 'daisy'];

        function gralinski(name) {
            return `${name} Gralinski`;
        }

        function capIt(word) {
            return `${word[0].toUpperCase()}${word.slice(1)}`;
        }

        console.log(myFamily.map(gralinski).map(capIt)); // chain maps together

        // create a simple function
        function addTax(total) {
            return (total * 1.09).toFixed(2);
        }
        // apply simple function with map
        console.log(orderTotals.map(addTax));

        // unrelated = create dummy array
        const fillArr = Array(10).fill('x');
        console.log(fillArr);

        // unrelated = create dummy array of random numbers
        function createRandom() {
            return Math.round(Math.random() * 10);
        }

        const ranArr = [];
        for (let i = 0; i < 10; i++) {
            ranArr.push(createRandom());
        }
        console.log(ranArr);

        // clean api data
        console.clear();

        const today = Date.now();

        const cleanPeople = people.map(person => {
            console.log(person);
            // get their birthday
            const birthday = new Date(person.birthday).getTime();
            // console.log(birthday);
            // figure out how old they are
            const age = Math.floor((today - birthday) / 3.154e10);
            // console.log(age);
            // return their full name and bday in an object
            return {
                age, // destructured
                name: `${person.names.first} ${person.names.last}`,
            };
        });
        console.table(cleanPeople);
    </script>
</body>

</html>